{% extends 'shop/basic.html' %}
{% block title %} Products {% endblock %}
{% block css %}


{% endblock %}
{% block navsearch %}
        <form class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
          </form>
{% endblock %}
{% block body %}
{% load static %}
<div class="container row" style="margin: 0.35rem auto; justify-content: center;">
  <div class="dropdown show " style="width: 45%;">

  <a class="nav-link dropdown-toggle btn btn-primary" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
    Filter

  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
    <a class="dropdown-item" href="/products/Sneaker">Sneakers</a>
    <a class="dropdown-item" href="/products/Sport">Sports</a>
    <a class="dropdown-item" href="/products/Formal">Formals</a>
  </div>

  </div>
      <div class="dropdown show " style="width: 45%;">

  <a class="nav-link dropdown-toggle btn btn-primary" href="#" id="navbarDropdown2" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
    Sort

  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
    <a class="dropdown-item" href="/product/price">Low to high</a>
    <a class="dropdown-item" href="/product/-price">High to low</a>
  </div>

  </div>

</div>
  <div class="container-fluid  d-flex flex-row flex-wrap align-items-center justify-content-center">
      {% for x in members %}
      <div class="card" style="width: 10rem;height: 22rem;margin: 4px 4px;">
         <a href="/product_details/{{x.id}}""><img src="/media/{{x.image}}" class="card-img-top" style="height: 150px;width: 160px;" alt="..."></a>
          <div class="card-body " style="padding: 0rem 1rem;">
          <h5 class="card-title">{{ x.product_name }}</h5>
          <p class="card-text " style="margin-bottom: 0.25rem;"><img src="{% static 'shop/shoe.png' %}">  {{ x.category }}</p>
            <p class="card-text" style="margin-bottom: 0.25rem;"><img src="{% static 'shop/category.png' %}">  {{ x.subcategory }}</p>
            <p class="card-text" style="margin-bottom: 0.25rem;">â‚¹{{ x.price }}</p>
          </div>
        <div class="d-flex align-items-center justify-content-center" style="margin: 5px;">
          {% if x.stock > 0 %}
          <button id="{{ x.id }}" class="cart btn btn-success">Add to Cart</button>
          {% else %}
          <a href="#" class="btn btn-danger disabled">Out of stock</a>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>




{% endblock %}

{% block js %}
<!--<script>-->
<!--    if(localStorage.getItem('cart')==null){-->
<!--    var cart={};-->
<!--    }-->
<!--    else{-->
<!--    cart=JSON.parse(localStorage.getItem('cart'));-->
<!--    document.getElementById('cart').innerHTML=Object.keys(cart).length;-->
<!--    }-->
<!--$('.cart').click(function(){-->
<!--    var prid = this.id.toString();-->
<!--    console.log(prid)-->
<!--    if (cart[prid] != undefined){-->
<!--    cart[prid]=cart[prid]+1;-->
<!--    }-->
<!--    else{-->
<!--    cart[prid]=1;-->
<!--    }-->
<!--    console.log(cart)-->
<!--    localStorage.setItem('cart', JSON.stringify(cart));-->
<!--    document.getElementById('cart').innerHTML=Object.keys(cart).length;-->
<!--    });-->

<!--</script>-->

{% endblock %}